<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>The CodingTool Library: search.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>search.cpp</h1><p>This is an example how to read a code matrix from a file and applies a low Hamming weight search. If the matrix was previously created from the SHA1 message expansion example, the algorithm should find the Hamming weight of 25 after few iterations. Using the argument "-pc 1" which enables random permutaion of the columns, results in feewer needed iterations.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="sha1me_8cpp.html" title="Example for creating a code matrix.">sha1me.cpp</a></dd></dl>
<div class="fragment"><pre class="fragment">
<span class="comment">// Copyright (c) 2010 Graz University of Technology (IAIK) &lt;http://www.iaik.tugraz.at&gt;</span>
<span class="comment">//  </span>
<span class="comment">// This file is part of the CodingTool.</span>
<span class="comment">//</span>
<span class="comment">// The CodingTool is free software: you can redistribute it and/or modify</span>
<span class="comment">// it under the terms of the GNU General Public License as published by</span>
<span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<span class="comment">// (at your option) any later version.</span>
<span class="comment">//</span>
<span class="comment">// CodingTool is distributed in the hope that it will be useful,</span>
<span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="comment">// GNU General Public License for more details.</span>
<span class="comment">//</span>
<span class="comment">// You should have received a copy of the GNU General Public License</span>
<span class="comment">// along with CodingTool.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>

<span class="preprocessor">#include &lt;iostream&gt;</span>
<span class="preprocessor">#include &lt;cstdio&gt;</span>
<span class="preprocessor">#include &lt;cstdlib&gt;</span>
<span class="preprocessor">#include &lt;string&gt;</span>


<span class="preprocessor">#include &quot;<a class="code" href="_low_weight_search_8h.html" title="This is the header file of the class LowWeightSearch.">LowWeightSearch.h</a>&quot;</span>
<span class="preprocessor">#include &quot;<a class="code" href="_input_handler_8h.html" title="This is the header file of the class InputHandler.">InputHandler.h</a>&quot;</span>
<span class="preprocessor">#include &quot;<a class="code" href="types_8h.html" title="This file contains type definitions used through the library.">types.h</a>&quot;</span>

<span class="keyword">using namespace </span>std;

<span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span>* argv[]) {

        <span class="comment">// create an empty generator matrix</span>
        <a name="_a0"></a><a class="code" href="class_code_matrix.html" title="This class represents a binary code matrix.">CodeMatrix</a> oGenerator;
        <span class="comment">// create an empty code word</span>
        <a name="_a1"></a><a class="code" href="class_code_word.html" title="This class represents a binary code word.">CodeWord</a> oCodeWord;
        <span class="comment">// create parameters</span>
        <a name="_a2"></a><a class="code" href="class_parameters.html" title="This is a handler for parameters used in the CodingTool.">Parameters</a> oParameters;
        <span class="comment">// create an input handler</span>
        <a name="_a3"></a><a class="code" href="class_input_handler.html" title="This class handles the arguments from the command line interface.">InputHandler</a> oInputHandler(oParameters);
        <span class="comment">// create the low weight search object</span>
        <a name="_a4"></a><a class="code" href="class_low_weight_search.html" title="The main part of the CodingTool library.">LowWeightSearch</a> oLowWS;

        <span class="keywordtype">string</span> sCMFile = <span class="stringliteral">&quot;&quot;</span>;
        
        <span class="comment">// parse the command line arguments</span>
        <span class="comment">// example: ./search -i 100 -cm matrix.cm -pc 1</span>
        <span class="keywordflow">if</span>(oInputHandler.<a name="a5"></a><a class="code" href="class_input_handler.html#aab9cec88d1ef5f57e3124911ef1a32b2" title="Parses command line arguments and stores them in a Parameters object.">ParseSettings</a>(argc, argv))
                exit(-1);
        
        <span class="comment">// get the file name of the code matrix</span>
        sCMFile = oParameters.<a name="a6"></a><a class="code" href="class_parameters.html#a0fd9301bfbc1688aac1f6041f6fdb394" title="Returns the value of a string parameter.">GetStringParameter</a>(<a name="a7"></a><a class="code" href="class_parameters.html#a490e265f041dc653ed073e0715a3ecbc" title="File containing a code matrix.">Parameters::CMFILE</a>);

        <span class="comment">// read data from the file</span>
        oGenerator.<a name="a8"></a><a class="code" href="class_code_matrix.html#a5610e3cf2d54e856ef43570e5ae071b3" title="Creates matrix from the given data.">ReadFromFile</a>(sCMFile);
        <span class="comment">// start the search</span>
        oCodeWord = oLowWS.<a name="a9"></a><a class="code" href="class_low_weight_search.html#acaaef1508ddc2e7e7f7e348ddc92ac3b" title="An algorithm to find code words with low Hamming weight.">CanteautChabaud</a>(oGenerator,oParameters);

        <span class="comment">// print the code word and the Hamming weight</span>
        oCodeWord.<a name="a10"></a><a class="code" href="class_code_word.html#a72292ffe033e28f821f9b7173f5a8b76" title="Outputs the code word as 64-bit words.">Print64</a>();
        cout &lt;&lt; <span class="stringliteral">&quot;Hamming weight is &quot;</span> &lt;&lt; oCodeWord.<a name="a11"></a><a class="code" href="class_code_word.html#ac9a2ae29d2936b35e7f6da6243facbcd" title="Returns the Hamming weight of the code word.">GetHammingWeight</a>() &lt;&lt; endl;

        exit(1);
}
</pre></div> </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Apr 23 11:23:11 2010 for The CodingTool Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
